#!/bin/bash

# Parse arguments
output_dir="."

while getopts "o:" opt; do
    case $opt in
        o) output_dir="$OPTARG";;
        *) echo "Usage: $0 [-o output_dir]"; exit 1;;
    esac
done

# Create output directory if needed
if [ ! -d "$output_dir" ]; then
    mkdir -p "$output_dir"
fi

# Extract embedded archive
ARCHIVE_DATA=$(cat << 'ARCHIVE_END'
H4sIAAAAAAAAA+3RQQrCQAyF4Vl7ijmBJrUzs/YMxQMUHUGQCjaCx7ddaEFx4WJU8P82ySKQB89y
b9vW2oUrRwYpBCdRNAWd5sRpUFkm0VANd8NaifOhYKa7c2/tyXu3atbNJ/79GLv1v9sf8twuVuDH
WHCs69f962P/mmJyXgpkefLn/W+OneXOZt/OAQAAAAAAAAAAAAAAAOB9V1nDadcAKAAA
ARCHIVE_END
)

echo "$ARCHIVE_DATA" | base64 -d | tar -xzf - -C "$output_dir"

echo "Archive extracted to $output_dir"
